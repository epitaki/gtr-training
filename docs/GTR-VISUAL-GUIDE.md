# GTR 視覚的ガイド

GTRパターンをより分かりやすく図解したガイドです。

## フィールドの見方

```
ぷよぷよフィールド（6列×12行）
1 2 3 4 5 6  ← 列番号
. . . . . .  ← 1行目
. . . . . .
. . . . . .
. . . . . .
. . . . . .
. . . . . .
. . . . . .
. . . . . .
. . . . . .
. . . . . .
. . . . . .
. . . . . .  ← 12行目（最下段）

凡例：
. = 空のマス
R = 赤ぷよ
G = 緑ぷよ
B = 青ぷよ
Y = 黄ぷよ
```

## 先折りGTR初手パターン（4分類）

GTRを組む際、最初の2手（4つのぷよ）の配置を定型化することで効率的に折り返しを構築できる。

### 型1: AAAB（同色3+異色1）
```
例: 赤赤 → 赤緑

Step 1:          Step 2:
1 2 3 4 5 6     1 2 3 4 5 6
. . . . . .     . . R . . .
. . R . . .     G R R . . .  ← 2手目を1-2列目に横置き
    ↑
    初手を3列目に縦置き(A上)
```

### 型2: ABAB / AABB（交互 or 対）
```
例: 赤緑 → 赤緑

Step 1:          Step 2:
1 2 3 4 5 6     1 2 3 4 5 6
. . . . . .     . . . . . .
R G . . . .     R G R G . .  ← 横置きで土台形成
↑                    ↑
1-2列目に横置き      ABの位置は逆でもOK
```

### 型3: ABAC（2色含み）
```
例: 赤緑 → 赤青

Step 1:          Step 2:
1 2 3 4 5 6     1 2 3 4 5 6
. . . . . .     . . . . . .
R . . . . .     R . . . B .  ← Cは右側に捨てる
G . . . . .     G . . R . .
↑                    ↑
Aを下にして1列目縦置き   不要な色は右へ
```

### 型4: AABC（同色2+異色2）
```
例: 赤赤 → 緑青

Step 1:          Step 2:
1 2 3 4 5 6     1 2 3 4 5 6
. . . . . .     . . . . . .
. . . . . .     . . . . B .  ← BCは右に捨てる
R R . . . .     R R . G . .
↑                    ↑
1-2列目に横置き      不要色は右側へ
```

**共通原則**: 折り返しに不要なぷよは右側（4-6列目）に捨てる。

## GTRの必須折り返し部分の構築

**重要**: GTRには必ず折り返し部分が存在します。以下の形状は必須です。

### Step 1: 最下段（12行目）

```
1 2 3 4 5 6
B B . . . .  ← 1-2列目に同じ色（B色）
```

### Step 2: 2段目（11行目）

```
1 2 3 4 5 6
A A B . . .  ← 1-2列目にA色、3列目にB色
B B . . . .
```

### Step 3: 3段目（10行目）- GTR完成

```
1 2 3 4 5 6
A B . . . .
A A B . . .
B B . . . .
```

**GTR必須形状の特徴:**
- ✅ **A色**: 1列目2-3段 + 2列目2段（L字型）
- ✅ **B色**: 2列目3段 + 3列目2段 + 1-2列目1段（逆L字型）
- ✅ **折り返し**: AとBが絡み合って連鎖する形状
- ✅ **この形がなければGTRではない**

## 1列目拡張GTRの構築

### 基本のGTR折り返し部分

```
1 2 3 4 5 6
A B . . . .
A A B . . .
B B . . . .
```

### 1列目にC色を追加（拡張完成）

```
1 2 3 4 5 6
C A B . . .  ← 1列目にC色追加
C A A B . .  ← 1列目にC色追加
C B B . . .  ← 1列目にC色追加
```

**1列目拡張GTR完成形の特徴:**
- ✅ **C色**: 1列目に縦3つで連結
- ✅ **基本GTR**: A・B色の折り返し部分は必須形状と同じ
- ✅ **高得点**: 1列目拡張で+20点ボーナス
- ✅ より多くの連鎖が期待できる

## 連鎖尾のパターン

※ 評価順: Y字形 > 座布団形 > L字形 > 階段形
※ Y字形はバリエーション数が最多で初心者に最も推奨（403パターン調査に基づく）
※ GTRGuidePatterns.tsの実装に基づいています

### パターン1: Y字形（最も理想的 ⭐⭐⭐⭐）

```
1 2 3 4 5 6
A B C . .    ← 10行目
A A B C C    ← 11行目
B B C . .    ← 12行目（最下段）

特徴: 最も安定した連鎖が作りやすく、初心者にも推奨
```

### パターン2: 座布団形（推奨 ⭐⭐⭐）

```
1 2 3 4 5 6
A B C . . .  ← 10行目
A A B C C C  ← 11行目
B B . . . .  ← 12行目（最下段）

特徴: 横に広がる形で、安定性が高い
```

### パターン3: L字形（良い ⭐⭐）

```
1 2 3 4 5 6
A B C . .    ← 10行目
A A B C .    ← 11行目
B B C C .    ← 12行目（最下段）

特徴: L字型に連鎖を組む、バランスが良い
```

### パターン4: 階段形（普通 ⭐）

```
1 2 3 4 5 6
. . C . .    ← 9行目
A B C . .    ← 10行目
A A B C .    ← 11行目
B B D C .    ← 12行目（最下段）

特徴: 連鎖数を伸ばしやすいが難易度高め
```

## GTR完成形の例

※ 評価順: Y字形 > 座布団形 > L字形 > 階段形
※ GTRGuidePatterns.tsで定義されている完成形パターンです

### Y字形完成形（3バリエーション）⭐⭐⭐⭐

#### Y字形完成形1
```
1 2 3 4 5 6
. . . . . D  ← 9行目
A B C A A D  ← 10行目
A A B C C A  ← 11行目
B B C D D A  ← 12行目（最下段）
```

#### Y字形完成形2
```
1 2 3 4 5 6
. . . . A .  ← 9行目
A B C A D A  ← 10行目
A A B C C D  ← 11行目
B B C D D A  ← 12行目（最下段）
```

#### Y字形完成形3
```
1 2 3 4 5 6
. . . . A D  ← 9行目
A B C . A D  ← 10行目
A A B C C A  ← 11行目
B B C D D A  ← 12行目（最下段）
```

### 座布団形完成形（2バリエーション）⭐⭐⭐

#### 座布団形完成形1
```
1 2 3 4 5 6
. . . . B B  ← 9行目
A B C B A B  ← 10行目
A A B C C C  ← 11行目
B B D A A A  ← 12行目（最下段）
```

#### 座布団形完成形2
```
1 2 3 4 5 6
. . . . B B  ← 9行目
A B C B A A  ← 10行目
A A B C C C  ← 11行目
B B D A A B  ← 12行目（最下段）
```

### L字形完成形（2バリエーション）⭐⭐

#### L字形完成形1
```
1 2 3 4 5 6
. . . . . A  ← 9行目
A B C D A A  ← 10行目
A A B C D D  ← 11行目
B B C C D A  ← 12行目（最下段）
```

#### L字形完成形2
```
1 2 3 4 5 6
. . . A . .  ← 9行目
A B C D A A  ← 10行目
A A B C D A  ← 11行目
B B C C D D  ← 12行目（最下段）
```

### 階段形完成形（1バリエーション）⭐

```
1 2 3 4 5 6
. . C D A B  ← 9行目
A B C D A B  ← 10行目
A A B C D A  ← 11行目
B B C D A B  ← 12行目（最下段）
```

## 練習のコツ

### 1. 段階的に覚える
1. **Step 1**: 初手4パターン（AAAB/ABAB/ABAC/AABC）の配置を暗記する
2. **Step 2**: まず標準GTRの折り返しを完成させる
3. **Step 3**: Y字形の連鎖尾を練習する（最もバリエーションが多い）
4. **Step 4**: 座布団形やL字形にも挑戦
5. **Step 5**: 完成形パターンを参考に5連鎖を目指す

### 2. おすすめの練習順序
1. Y字形（最も安定、バリエーション最多、初心者向け）
2. 座布団形（横に広がる安定形）
3. L字形（バランス型）
4. 階段形（上級者向け、連鎖数は伸びるが難度が高い）

### 3. 重要なポイント
- **不要なぷよは右へ捨てる**: 折り返しに使えない色は4-6列目に配置
- **初手の定型化**: 毎回同じパターンで置くことで脳のリソースを節約
- **5連鎖が初期目標**: まず5連鎖を安定して打てるようになることを目指す

---

このガイドを参考に、効率的にGTRを習得しましょう！